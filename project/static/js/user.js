(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{77:function(e,t,s){var n=s(7),r=s(79);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};n(r,c);e.exports=r.locals||{}},78:function(e,t,s){"use strict";var n=s(77);s.n(n).a},79:function(e,t,s){},80:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{staticClass:"mx-5",attrs:{tile:""}},[s("v-list",{attrs:{dense:""}},[s("v-subheader",[e._v("Список пользователей наиболее совместимых по вашим интересам")]),e._v(" "),e.loadCalc?[s("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}),e._v("Идет расчет совместимости"),s("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})]:e._e(),e._v(" "),e.loadCalc||0!=e.people_list.length?e._e():[e._v("\n      Подходящих людей по вашим интересам не найдено. Можете попробовать заполнить больше информации в вашем "),s("a",{on:{click:function(t){return e.$router.push({name:"user_profile"})}}},[e._v("профиле")]),e._v(" для более точного расчета.\n    ")],e._v(" "),e._l(e.people_list,(function(t){return s("v-list-item",{key:t.email},[s("v-list-item-icon",[s("v-icon",[e._v("face")])],1),e._v(" "),s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(t.name)+" ("+e._s(t.rating)+"% совместимости)")])],1)],1)}))],2)],1)};n._withStripped=!0;var r=s(3),c=s.n(r),d={name:"recommendations",data:()=>({people_list:[],loadCalc:!0}),methods:{get_compatibility_users(){c()({method:"get",url:this.$store.getters.getApiLink.get_compatibility_users}).then(e=>{this.people_list=e.data,this.loadCalc=!1}).catch(e=>{console.log("Что то пошло не так при получении совместимых пользователей",e),this.loadCalc=!1})}},beforeMount(){this.get_compatibility_users()}},a=(s(78),s(1)),o=Object(a.a)(d,n,[],!1,null,"98c79a12",null);o.options.__file="frontend/vue/components/user/recommendations.vue";t.default=o.exports},81:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-card-title",[e._v("Ваши предпочтения\n    "),s("v-spacer"),e._v(" "),s("v-btn",{attrs:{color:"success"},on:{click:e.dialogAddPrecedent}},[e._v("Добавить предпочтение")])],1),e._v(" "),e._l(e.user_precedents,(function(t){return s("p",{key:t.pk,staticClass:"my-0 mx-10"},[t.attitude?e._e():s("v-icon",{attrs:{color:"red"}},[e._v("thumb_down")]),e._v(" "),t.attitude?s("v-icon",{attrs:{color:"green"}},[e._v("thumb_up")]):e._e(),e._v("\n    ("+e._s(t.importance)+") "+e._s(t.precedents)+"\n    "),s("v-icon",{attrs:{color:"red",large:""},on:{click:function(s){return e.deletePrecedentUser(t)}}},[e._v("close")])],1)})),e._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"840"},model:{value:e.addPrecedentDialog,callback:function(t){e.addPrecedentDialog=t},expression:"addPrecedentDialog"}},[s("v-card",[s("v-toolbar",{attrs:{flat:"",dark:"",color:"cyan"}},[s("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.addPrecedentDialog=!1}}},[s("v-icon",[e._v("close")])],1),e._v(" "),s("v-toolbar-title",[e._v("Добавление нового предпочтения")]),e._v(" "),s("v-spacer")],1),e._v(" "),s("v-card-text",[s("v-card",[s("v-card-text",[s("v-row",[s("v-col",{staticClass:"pa-0",attrs:{cols:"11"}},[e.precedent_select_show?s("v-autocomplete",{attrs:{items:e.add_user_precedent_list,"item-text":"name",label:"Выбор предпочтения из списка существующих",placeholder:"Начните ввод для поиска","hide-no-data":"","hide-selected":"",dense:"",outlined:"",clearable:""},on:{input:function(t){e.precedent_select_show=!e.precedent_select_show}},model:{value:e.add_precedents.precedents,callback:function(t){e.$set(e.add_precedents,"precedents",t)},expression:"add_precedents.precedents"}}):s("v-text-field",{attrs:{label:"Добавление нового",name:"text",dense:"",outlined:"",clearable:"",type:"text"},model:{value:e.add_precedents.precedents,callback:function(t){e.$set(e.add_precedents,"precedents",t)},expression:"add_precedents.precedents"}})],1),e._v(" "),s("v-col",{staticClass:"pa-0align-baseline",attrs:{cols:"1"}},[e.precedent_select_show?s("v-icon",{attrs:{medium:""},on:{click:function(t){e.precedent_select_show=!e.precedent_select_show}}},[e._v("NEW")]):s("v-icon",{attrs:{large:""},on:{click:function(t){e.precedent_select_show=!e.precedent_select_show}}},[e._v("close\n                ")])],1)],1),e._v(" "),s("v-row",[e._v("Отношение:\n              "),e.add_precedents.attitude?[s("div",{on:{click:function(t){e.add_precedents.attitude=!e.add_precedents.attitude}}},[s("v-icon",{attrs:{large:"",color:"green"}},[e._v("\n                    check\n                  ")]),e._v("\n                  Положительное\n                ")],1)]:[s("div",{on:{click:function(t){e.add_precedents.attitude=!e.add_precedents.attitude}}},[s("v-icon",{attrs:{large:"",color:"red"}},[e._v("\n                    close\n                  ")]),e._v("\n                  Отрицательное\n                ")],1)]],2),e._v(" "),s("v-row",[e._v("Важность:\n              "),s("v-rating",{attrs:{dense:"",hover:"",length:"10",size:"32"},model:{value:e.add_precedents.importance,callback:function(t){e.$set(e.add_precedents,"importance",t)},expression:"add_precedents.importance"}})],1),e._v(" "),s("v-btn",{staticClass:"primary",attrs:{disabled:""==e.add_precedents.precedents},on:{click:e.addUserPrecedent}},[e._v("Сохранить\n            ")])],1)],1)],1)],1)],1)],2)};n._withStripped=!0;var r=s(3),c=s.n(r),d={name:"profile",data:()=>({precedent_select_show:!0,addPrecedentDialog:!1,add_precedents:{precedents:"",importance:5,attitude:!0},user_precedents:[],precedents:[]}),computed:{add_user_precedent_list(){let e=[],t=[];for(let e of this.user_precedents)t.push(e.precedents);for(let s of this.precedents)~t.indexOf(s.name)||e.push(s);return e}},methods:{getPrecedentsUser(){c()({method:"get",url:this.$store.getters.getApiLink.get_precedents_user}).then(e=>{this.user_precedents=e.data}).catch(e=>{console.log("что то пошло не так, ошибка ",e)})},dialogAddPrecedent(){this.getPrecedents(),this.addPrecedentDialog=!0},addUserPrecedent(){c()({method:"post",url:this.$store.getters.getApiLink.add_precedent_user,data:this.add_precedents}).then(e=>{this.add_precedents.precedents="",this.addPrecedentDialog=!1,this.precedent_select_show=!0,this.add_precedents.attitude=!0,this.add_precedents.importance=5,this.user_precedents.push(e.data)}).catch(e=>{console.log("что то пошло не так при добавлении предпочтения, ошибка ",e)})},getPrecedents(){c()({method:"get",url:this.$store.getters.getApiLink.get_list_all_precedent}).then(e=>{this.precedents=e.data}).catch(e=>{console.log("что то пошло не так, ошибка ",e)})},deletePrecedentUser(e){c()({method:"DELETE",url:this.$store.getters.getApiLink.delete_precedent_user+e.pk}).then(t=>{this.user_precedents.splice(this.user_precedents.indexOf(e),1)}).catch(e=>{console.log("что то пошло не так, ошибка ",e)})}},beforeMount(){this.getPrecedentsUser()}},a=s(1),o=Object(a.a)(d,n,[],!1,null,null,null);o.options.__file="frontend/vue/components/user/profile.vue";t.default=o.exports}}]);